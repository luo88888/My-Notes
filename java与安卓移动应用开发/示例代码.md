## 示例代码

### 1 Fragment

#### 1.1 activityfragment

- MainActivity.java
    ```
    package com.example.activefragment;

    import androidx.appcompat.app.AppCompatActivity;
    import androidx.fragment.app.Fragment;
    import androidx.fragment.app.FragmentManager;
    import androidx.fragment.app.FragmentTransaction;

    import android.content.res.Resources;
    import android.os.Bundle;
    import android.view.View;
    import android.widget.Button;
    import android.widget.LinearLayout;

    public class MainActivity extends AppCompatActivity {
        Button button;
        LinearLayout linearLayout;
        FragmentManager fragmentManager;
        @Override
        protected void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);
            button=findViewById(R.id.button);
            linearLayout=findViewById(R.id.line1);
            fragmentManager=getSupportFragmentManager();
            button.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {

                    Resources resources=getResources();
                    linearLayout.setLayoutParams(new LinearLayout.LayoutParams(resources.getDisplayMetrics().widthPixels/3,
                            resources.getDisplayMetrics().heightPixels));//主界面原来的线性布局宽度设置为原来宽度的1/3
                    FragmentTransaction transaction=fragmentManager.beginTransaction();
                    transaction.replace(R.id.layout_main,new MyFragment());//将MyFragment对象添加进主界面
                    transaction.addToBackStack(null);// 添加手机回退键
                    transaction.commit();


                }
            });
        }
    }
    ```
- MyFragment.java
    ```
    package com.example.activefragment;

    import android.os.Bundle;
    import android.view.LayoutInflater;
    import android.view.View;
    import android.view.ViewGroup;
    import android.widget.Button;

    import androidx.annotation.NonNull;
    import androidx.annotation.Nullable;
    import androidx.fragment.app.Fragment;
    import androidx.fragment.app.FragmentManager;
    import androidx.fragment.app.FragmentTransaction;

    public class MyFragment extends Fragment {
        FragmentManager manager;
        @Nullable
        @Override
        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
            manager=getFragmentManager();
            View view=inflater.inflate(R.layout.fragment_layout,container,false);
            Button button=view.findViewById(R.id.button2);

            button.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                    FragmentTransaction transaction=manager.beginTransaction();
                    transaction.remove(MyFragment.this);
                    transaction.commit();
                }
            });

            return view;
        }
    }
    ```
- activity_main.xml
    ```
    <?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="horizontal"
        tools:context=".MainActivity"
        android:id="@+id/layout_main">


        <LinearLayout
            android:id="@+id/line1"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:orientation="vertical">

            <Button
                android:id="@+id/button"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:gravity="left"
                android:text="打开Fragment" />
        </LinearLayout>

    </LinearLayout>
    ```
- fragment_layout.xml
    ```
    <?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:orientation="vertical"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:gravity="right|bottom"
        android:background="#ccffcc">

        <Button
            android:id="@+id/button2"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="隐藏Frament" />
    </LinearLayout>
    ```

#### 1.2 appBarLayoutTest

- MainActivity.java
    ```
    package com.example.appbarlayouttest;

    import androidx.annotation.NonNull;
    import androidx.annotation.Nullable;
    import androidx.appcompat.app.AppCompatActivity;
    import androidx.fragment.app.Fragment;
    import androidx.fragment.app.FragmentManager;
    import androidx.fragment.app.FragmentPagerAdapter;
    import androidx.viewpager.widget.ViewPager;

    import android.os.Bundle;

    import com.google.android.material.tabs.TabLayout;

    import java.util.ArrayList;
    import java.util.List;

    public class MainActivity extends AppCompatActivity {
        TabLayout tabLayout;
        ViewPager viewPager;
        List<Fragment> list;
        String title[] = new String[]{"经济", "新闻", "娱乐"};

        @Override
        protected void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);
            tabLayout = findViewById(R.id.tabs);
            viewPager = findViewById(R.id.viewPager);
            list = new ArrayList<Fragment>();
            list.add(new MyFragment1());
            list.add(new MyFragment2());
            list.add(new MyFragment3());
            viewPager.setAdapter(new MyAdapter(getSupportFragmentManager(), list));
            tabLayout.setupWithViewPager(viewPager);

        }

        class MyAdapter extends FragmentPagerAdapter {
            List list;

            public MyAdapter(@NonNull FragmentManager fm, List list) {
                super(fm);
                this.list = list;
            }

            @NonNull
            @Override
            public Fragment getItem(int position) {
                return (Fragment) list.get(position);
            }

            @Override
            public int getCount() {
                return list.size();
            }

            @Nullable
            @Override
            public CharSequence getPageTitle(int position) {
                return title[position];
            }
        }
    }
    ```
- myFragment1.java
    ```
    package com.example.appbarlayouttest;

    import android.os.Bundle;
    import android.view.LayoutInflater;
    import android.view.View;
    import android.view.ViewGroup;

    import androidx.annotation.NonNull;
    import androidx.annotation.Nullable;
    import androidx.fragment.app.Fragment;

    public class MyFragment1 extends Fragment {
        @Nullable
        @Override
        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
            View view = inflater.inflate(R.layout.layout1, container, false);
            return view;

        }
    }
    ```
- 其它页面类似

- activity_main.xml
    ```
    <?xml version="1.0" encoding="utf-8"?>
    <androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"

        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <com.google.android.material.appbar.AppBarLayout
            android:id="@+id/appbar"
            android:layout_width="match_parent"
            android:layout_height="wrap_content">

            <androidx.appcompat.widget.Toolbar
                android:layout_width="match_parent"
                android:layout_height="?attr/actionBarSize"
                app:layout_scrollFlags="scroll|enterAlways">

                <ImageView
                    android:id="@+id/imageView9"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    app:srcCompat="@mipmap/ic_launcher" />

                <TextView
                    android:id="@+id/textView"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="首页" />
            </androidx.appcompat.widget.Toolbar>


            <com.google.android.material.tabs.TabLayout
                android:id="@+id/tabs"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                app:layout_scrollFlags="scroll|enterAlways"

                app:tabMode="scrollable">

                <com.google.android.material.tabs.TabItem
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="经济" />

                <com.google.android.material.tabs.TabItem
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="新闻" />

                <com.google.android.material.tabs.TabItem
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="娱乐" />
            </com.google.android.material.tabs.TabLayout>
        </com.google.android.material.appbar.AppBarLayout>

        <androidx.core.widget.NestedScrollView
            android:layout_width="match_parent"
            android:layout_height="match_parent"

            android:clipToPadding="true"
            android:fillViewport="true"
            app:layout_behavior="com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical">

                <androidx.viewpager.widget.ViewPager
                    android:id="@+id/viewPager"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent" />
            </LinearLayout>
        </androidx.core.widget.NestedScrollView>

        <com.google.android.material.floatingactionbutton.FloatingActionButton
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="bottom|end"
            android:layout_margin="16dp"
            android:src="@android:drawable/ic_input_add" />"
    </androidx.coordinatorlayout.widget.CoordinatorLayout>
    ```

#### 1.3 FragmentTest

- MainActivity.java
    ```
    package com.example.fragmenttest;

    public class MainActivity extends AppCompatActivity {
        ArrayAdapter<String> adapter;
        ListView listView;
        String[] name=new String[]{"人工智能" ,"大数据","区块链","物联网","云计算","AR"};
        String[] content={"人工智能（Artificial Intelligence），英文缩写为AI。它是研究、开发用于模拟、延伸和扩展人的智能的理论、方法、技术及应用系统的一门新的技术科学",
        "增强现实(Augmented Reality)技术是一种将虚拟信息与真实世界巧妙融合的技术，广泛运用了多媒体、三维建模、实时跟踪及注册、智能交互、传感等多种技术手段，将计算机生成的文字、图像、三维模型、音乐、视频等虚拟信息模拟仿真后，应用到真实世界中，两种信息互为补充，从而实现对真实世界的“增强”。"};
        FragmentManager manager;
        @Override
        protected void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);

            listView=findViewById(R.id.listView);
            manager=getSupportFragmentManager();

            MyFragment myFragment= (MyFragment) manager.findFragmentById(R.id.myfragment);
            final TextView textView=myFragment.getView().findViewById(R.id.textView2);

            adapter=new ArrayAdapter<String>(MainActivity.this,R.layout.item,name);
            listView.setAdapter(adapter);

            listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
                @Override
                public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                    textView.setText(content[position]);
                }
            });
        }
    }
    ```

- myFragment.java
    ```
    public class MyFragment extends Fragment {
        @Nullable
        @Override
        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {

            View view=inflater.inflate(R.layout.fragment,container,false);

            Button button=view.findViewById(R.id.button);

            button.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                    TextView textView=getActivity().findViewById(R.id.textView3);
                    textView.setText("来自Fragment的值："+System.currentTimeMillis());
                }
            });
            return view;
        }
    }
    ```
- activity_main.xml
    ```
    <?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="horizontal"
        tools:context=".MainActivity">
        <LinearLayout
            android:layout_weight="1"
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:orientation="vertical">

            <TextView
                android:id="@+id/textView3"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="TextView" />

            <ListView
                android:id="@+id/listView"
                android:layout_width="match_parent"
                android:layout_height="match_parent" />
        </LinearLayout>
        <fragment
            android:id="@+id/myfragment"
            android:layout_weight="3"
            android:name="com.example.fragmenttest.MyFragment"
            android:layout_width="0dp"
            android:layout_height="match_parent" />
    </LinearLayout>
    ```
- item.xml
    ```
    <?xml version="1.0" encoding="utf-8"?>
    <TextView xmlns:android="http://schemas.android.com/apk/res/android"
        android:textSize="16dp"
        android:padding="30px"
        android:layout_width="match_parent"
        android:layout_height="match_parent">
    </TextView>
    ```

### 2 ListView

#### 2.1 listview

- MainActivity.java
    ```
    package com.example.listview;

    import androidx.appcompat.app.AppCompatActivity;

    import android.graphics.Color;
    import android.os.Bundle;
    import android.util.Log;
    import android.view.View;
    import android.widget.Adapter;
    import android.widget.AdapterView;
    import android.widget.ArrayAdapter;
    import android.widget.ListView;
    import android.widget.TextView;
    import android.widget.Toast;

    public class MainActivity extends AppCompatActivity implements AdapterView.OnItemClickListener {
        private String[] data = {"aaa", "bbb", "ccc", "ddd", "eee", "fff", "ggg", "hhh"};

        @Override
        protected void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);

            ArrayAdapter<String> ada = new ArrayAdapter<String>(
                    MainActivity.this,
                    android.R.layout.simple_list_item_1,
                    data);
            ListView lst1 = (ListView) findViewById(R.id.lst1);
            lst1.setAdapter(ada);

            lst1.setOnItemClickListener(this);

            TextView footer = new TextView(this);
            footer.setText("ListView Footer");
            lst1.addFooterView(footer);

            TextView header = new  TextView(this);
            header.setText("ListView Header");
            header.setTextColor(Color.BLUE);
            header.setTextSize(25);
            lst1.addHeaderView(header);

        }

        @Override
        public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
            if (l >= 0){
                String s = data[(int)l];
                Toast t = Toast.makeText(MainActivity.this, s, Toast.LENGTH_SHORT);
                t.show();
            }
            Log.d("View_id", String.valueOf(view.getId()));
            Log.d("position", String.valueOf(i));
            Log.d("id", String.valueOf(l));
        }
    }
    ```
- activity_main.xml
    ```
    <?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical">

        <ListView
            android:id="@+id/lst1"
            android:layout_width="match_parent"
            android:layout_height="match_parent" />
    </LinearLayout>
    ```

### 3 Menu

#### 3.1 menu

- MainActivity.java
    ```
    package com.example.menu;

    import androidx.appcompat.app.AppCompatActivity;

    import android.os.Bundle;
    import android.view.ContextMenu;
    import android.view.Menu;
    import android.view.MenuInflater;
    import android.view.MenuItem;
    import android.view.View;
    import android.widget.TextView;
    import android.widget.Toast;

    public class MainActivity extends AppCompatActivity {

        @Override
        protected void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);

            TextView tv;
            tv = (TextView) findViewById(R.id.hw);
            registerForContextMenu(tv);
        }

        @Override
        public boolean onCreateOptionsMenu(Menu menu) {
            MenuInflater mi = getMenuInflater();
            mi.inflate(R.menu.main_menu, menu);
            return true;
        }

        @Override
        public boolean onOptionsItemSelected(MenuItem item){
            switch (item.getItemId()){
                case R.id.menuitem1:
                    Toast.makeText(this, "菜单项1", Toast.LENGTH_SHORT).show();
                    break;
                case R.id.menuitem2:
                    Toast.makeText(this, "菜单项2", Toast.LENGTH_SHORT).show();
                    break;
                case R.id.menuitem3:
                    Toast.makeText(this, "菜单项3", Toast.LENGTH_SHORT).show();
                    break;
            }
            return true;
        }


        @Override
        public void onCreateContextMenu(ContextMenu menu, View v,
                                        ContextMenu.ContextMenuInfo menuInfo) {
            super.onCreateContextMenu(menu, v, menuInfo);
            MenuInflater inflater = new MenuInflater(this);
            inflater.inflate(R.menu.main_submenu, menu);
        }

        @Override
        public boolean onContextItemSelected(MenuItem item) {
            switch (item.getItemId()){
                case R.id.file:
                    Toast.makeText(this, "上下文菜单中的文件项", Toast.LENGTH_SHORT).show();
                    break;
                case R.id.open:
                    Toast.makeText(this, "上下文菜单中的文件-打开", Toast.LENGTH_SHORT).show();
                    break;
                case R.id.create_new:
                    Toast.makeText(this, "上下文菜单中的文件-新建", Toast.LENGTH_SHORT).show();
                    break;
            }
            return true;
        }
    }
    ```

- activity_main.xml
    ```
    <?xml version="1.0" encoding="utf-8"?>
    <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        tools:context=".MainActivity">

        <TextView
            android:id = "@+id/hw"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Hello World!"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

    </androidx.constraintlayout.widget.ConstraintLayout>
    ```
- main_menu.xml
    ```
    <?xml version="1.0" encoding="utf-8"?>
    <menu xmlns:android="http://schemas.android.com/apk/res/android">
        <item android:id="@+id/menuitem1"
            android:title="菜单项1"/>
        <item android:id="@+id/menuitem2"
            android:title="菜单项2"/>
        <item android:id="@+id/menuitem3"
            android:title="菜单项3"/>
    </menu>
    ```
- main_submenu.xml
    ```
    <?xml version="1.0" encoding="utf-8"?>
    <menu xmlns:android="http://schemas.android.com/apk/res/android">
        <item android:id="@+id/file"
            android:title="文件" >
            <!-- "file" submenu -->
            <menu>
                <item android:id="@+id/create_new"
                    android:title="新建" />
                <item android:id="@+id/open"
                    android:title="打开" />
            </menu>
        </item>
    </menu>
    ```

### 4 Service

#### 4.1 bindservicetest

- MainActivity.java
```
package com.example.bindservicetest;

import androidx.appcompat.app.AppCompatActivity;

import android.content.ComponentName;
import android.content.Intent;
import android.content.ServiceConnection;
import android.os.Bundle;
import android.os.IBinder;
import android.view.View;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity {
    Intent intent;
    MyService.MyBind myBind;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        intent=new Intent(MainActivity.this,MyService.class);
    }
    public void bind(View view){
        bindService(intent,serviceConnection,BIND_AUTO_CREATE);
    }
    public void unbind(View view){
        unbindService(serviceConnection);
    }
    public void setValue(View view)
    {
        myBind.setValue(0);
    }
    public void getValue(View view)
    {
        Toast.makeText(MainActivity.this,myBind.getValue()+"",Toast.LENGTH_SHORT).show();
    }
    ServiceConnection serviceConnection=new ServiceConnection() {
        @Override
        public void onServiceConnected(ComponentName name, IBinder service) {
            myBind= (MyService.MyBind) service;
        }

        @Override
        public void onServiceDisconnected(ComponentName name) {

        }
    };
}
```
- MyService.java
```
package com.example.bindservicetest;

import android.app.Service;
import android.content.Intent;
import android.os.Binder;
import android.os.IBinder;
import android.util.Log;
import android.widget.LinearLayout;

public class MyService extends Service {
    int value;
    boolean flag;

    public MyService() {
    }
    class MyBind extends Binder{

        public void setValue(int i)
        {
            value=i;
        }
        public int getValue()
        {
            return value;
        }
    }

    @Override
    public IBinder onBind(Intent intent) {
        // TODO: Return the communication channel to the service.
        Log.i("======","绑定成功");
        return new MyBind();
    }

    @Override
    public boolean onUnbind(Intent intent) {
        Log.i("======","解除绑定");
        return super.onUnbind(intent);
    }

    @Override
    public void onCreate() {
        flag=true;
        super.onCreate();
        new Thread(){
            @Override
            public void run() {
                while (flag){
                    value++;
                    try {
                        Thread.sleep(1000);
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }

                }
            }
        }.start();
    }

    @Override
    public void onDestroy() {
        super.onDestroy();
        flag=false;
    }
}
```
- activity_main.xml
```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity"
    android:orientation="vertical"
    android:gravity="center">

    <Button
        android:id="@+id/button"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:onClick="bind"
        android:text="绑定Service" />

    <Button
        android:id="@+id/button2"
        android:layout_marginTop="50dp"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:onClick="unbind"
        android:text="解除绑定Service" />

    <Button
        android:id="@+id/button3"
        android:onClick="setValue"
        android:layout_marginTop="50dp"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="设置值（Activity--->Service）" />

    <Button
        android:id="@+id/button4"
        android:onClick="getValue"
        android:layout_marginTop="50dp"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="获取值（Service--->Activity）" />
</LinearLayout>
```
- 清单文件
```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.bindservicetest">

    <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/AppTheme">
        <service
            android:name=".MyService"
            android:enabled="true"
            android:exported="true"></service>

        <activity android:name=".MainActivity">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest>
```

#### 4.2 intentservicetest

- MainActivity.java
```
package com.example.intentservicetest;

import androidx.appcompat.app.AppCompatActivity;

import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

    }
    public void start(View view){
        Intent intent=new Intent(MainActivity.this,MyIntentService.class);
        startService(intent);
    }
}
```
- MyIntentService.java
```
package com.example.intentservicetest;

import android.app.IntentService;
import android.content.Intent;
import android.util.Log;

import androidx.annotation.Nullable;


public class MyIntentService extends IntentService{
    int i=100;


    public MyIntentService() {
        super("");
    }


    @Override
    protected void onHandleIntent(@Nullable Intent intent) {
        while (i>0){
            Log.i("======",i+"");
            i--;
            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }

    @Override
    public void onCreate() {
        super.onCreate();
        Log.i("======","onCreate");
    }

    @Override
    public void onDestroy() {
        super.onDestroy();
        Log.i("======","onDestroy");
    }
}
```
- main_activity.xml
```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:gravity="center"
    tools:context=".MainActivity">


    <Button
        android:id="@+id/button"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="启动IntentService"
        android:onClick="start"/>
</LinearLayout>
```

### 4 UIButton

#### 4.1 UIButton

- MainActivity.java
```
package com.example.uibutton;

import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ImageButton;
import android.widget.TextView;

public class MainActivity extends AppCompatActivity {
    TextView txt1;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        txt1 = (TextView)findViewById(R.id.txt1);

        Button btn1 = (Button) findViewById(R.id.btn1);
        btn1.setOnClickListener(new View.OnClickListener() {
            public void onClick(View v) {
                txt1.setText("按钮1被按下");
                Log.d("btn1", "用户点击按钮1");
            }
        });

        Button btn2 = (Button) findViewById(R.id.btn2);
        ImageButton btn3 = (ImageButton) findViewById(R.id.btn3);

        btn2.setOnClickListener(new onClickHandler());
        btn3.setOnClickListener(new onClickHandler());

    }

    class onClickHandler implements View.OnClickListener {
        @Override
        public void onClick(View v) {
            switch (v.getId())
            {
                case R.id.btn2:
                    txt1.setText("按钮2被按下");
                    break;
                case R.id.btn3:
                    txt1.setText("按钮3被按下");
                    break;
            }
        }
    }
}
```
- MainActivity2.java
```
package com.example.uibutton;

import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.ImageButton;
import android.widget.TextView;

public class MainActivity2 extends AppCompatActivity implements View.OnLongClickListener{
    TextView txt1;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main2);
        txt1 = (TextView)findViewById(R.id.txt1);

        Button btn2 = (Button) findViewById(R.id.btn2);
        ImageButton btn3 = (ImageButton) findViewById(R.id.btn3);

        btn2.setOnLongClickListener(this);
        btn3.setOnLongClickListener(this);
    }

    @Override
    public boolean onLongClick(View v) {
        if(v.getId()==R.id.btn2)
            txt1.setText("长按了按钮2");
        if(v.getId()==R.id.btn3)
            txt1.setText("长按了按钮3");
        return true;
    }

    public void myClick(View v) {
        txt1.setText("点击了按钮1");
    }
}
```
- activity_main.xml
```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingLeft="16dp"
    android:paddingRight="16dp"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/txt1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:text="Hello World!"
        android:textColor="#6D26D1"
        android:textSize="20sp" />
    <Button
        android:id="@+id/btn1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="我是按钮1"
        android:textAllCaps="false"/>

    <Button
        android:id="@+id/btn2"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="我是按钮2"
        android:textAllCaps="false"/>

    <ImageButton
        android:id="@+id/btn3"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:contentDescription="A tiny Android icon"
        android:src="@drawable/android_icon" />

</LinearLayout>
```
- activity_main2.xml
```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingLeft="16dp"
    android:paddingRight="16dp"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/txt1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:text="Hello World! from Activity2"
        android:textSize="30sp" />
    <!--        android:textColor="#A466FB"-->
    <!--        android:textSize="20sp"-->

    <!--    <EditText-->
    <!--        android:id="@+id/editText8"-->
    <!--        android:layout_width="wrap_content"-->
    <!--        android:layout_height="wrap_content"-->
    <!--        android:ems="10"-->
    <!--        android:hint="请输入姓名"-->
    <!--        android:inputType="textPersonName" />-->

    <!--    <EditText-->
    <!--        android:id="@+id/editText9"-->
    <!--        android:layout_width="wrap_content"-->
    <!--        android:layout_height="wrap_content"-->
    <!--        android:ems="10"-->
    <!--        android:hint="请输入密码" />-->


    <Button
        android:id="@+id/btn1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="我是按钮1"
        android:textAllCaps="false"
        android:onClick="myClick"/>

    <Button
        android:id="@+id/btn2"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="我是按钮2"
        android:textAllCaps="false" />

    <ImageButton
        android:id="@+id/btn3"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:contentDescription="A tiny Android icon"
        android:src="@drawable/android_icon" />

</LinearLayout>
```