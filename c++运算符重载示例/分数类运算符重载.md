    // 分数类运算符重载，包含前置++和后置++

    #include<iostream>
    using namespace std;

    //求最大公约数
    int gcd(int a,int b)
    {
        if(b==0) return a;
        return gcd(b,a%b);
    }
    //分数类
    class Fraction
    {
        public:
            Fraction():numerator(0),denominator(1){}
            Fraction(int a,int b):numerator(a),denominator(b)
            {
                simplify();
            }
            int numerator;      //分子
            int denominator;    //分母
            void simplify()     //化简
            {
                if(denominator==0)//如果分母为0，则静默地将分子设置为0
                {
                    numerator=0;
                    return;
                }
                int c;//最大公约数
                if(denominator<0)
                {
                    denominator=-denominator;
                    numerator=-numerator;
                }
                if(numerator<0) c=gcd(-numerator,denominator);
                else c=gcd(numerator,denominator);
                numerator = numerator/c;
                denominator = denominator/c;
            }
            void print() const
            {
                if(denominator==1)
                    cout<<numerator<<endl;
                else
                    cout<<numerator<<'/'<<denominator<<endl;
            }
            //加法
            const Fraction operator+ (const Fraction& f) const
            {
                return Fraction(numerator * f.denominator + denominator * f.numerator,denominator * f.denominator);
            }
            //减法
            Fraction operator- (Fraction f)
            {
                Fraction f2;
                f2.denominator=denominator*f.denominator;
                f2.numerator=numerator*f.denominator-denominator*f.numerator;
                f2.simplify();
                return f2;
            }
            //乘法
            Fraction operator* (Fraction f)
            {
                Fraction f2;
                f2.denominator=denominator*f.denominator;
                f2.numerator=numerator*f.numerator;
                f2.simplify();
                return f2;
            }
            //除法
            Fraction operator/ (Fraction f)
            {
                Fraction f2;
                f2.denominator=denominator*f.numerator;
                f2.numerator=numerator*f.denominator;
                f2.simplify();
                return f2;
            }
            //前置++
            Fraction& operator++ ()
            {
                numerator += denominator;
                return *this;
            }
            //后置++
            Fraction operator++ (int)
            {
                Fraction temp(*this);//Fraction f=*this;
                numerator += denominator;
                return temp;
            }
            //前置--
            Fraction& operator-- ()
            {
                numerator -= denominator;
                return *this;
            }
            //后置--
            Fraction operator-- (int)
            {
                Fraction temp(*this);
                numerator -= denominator;
                return temp;
            }
            

    };



    int main()
    {
        int a=7,b=2;Fraction f1(a,b);
        /*
        char c;
        cout<<"请输入第一个分数：";
        cin>>a>>c>>b;
        
        cout<<"请输入第二个分数：";
        cin>>a>>c>>b;
        */
        a=5;b=2;
        Fraction f2(a,b);
        cout<<"f1+f2=";(f1+f2).print();
        cout<<"f1-f2=";(f1-f2).print();
        cout<<"f1*f2=";(f1*f2).print();
        cout<<"f1/f2=";(f1/f2).print();
        cout<<"++"<<endl;
        Fraction f3=f1++;
        f1--;
        Fraction f4=++f1;
        f3.print();
        f4.print();


        return 0;
    }