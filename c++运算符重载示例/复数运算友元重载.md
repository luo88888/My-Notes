    // 复数运算-友元重载

    #include<iostream>
    using namespace std;

    //复数类
    class Complex
    {
        public:
            Complex(double real,double imag)
            {
                this->real = real;
                this->imag = imag;
            }
            Complex()
            {
                real = 0;
                imag = 0;
            }
            double GetReal(){return real;}
            double GetImag(){return imag;}
            void Write()    //输出复数
            {
                if(real)
                {
                    cout<<real;
                    if(imag<0||imag==1)
                    {
                        cout<<imag<<'i'<<endl;
                    }
                    else if(imag)
                    {
                        cout<<'+'<<imag<<'i'<<endl;
                    }
                    else cout<<endl;
                    return;
                }
                if(imag==1)
                {
                    cout<<'i'<<endl;
                }
                else if(imag)
                {
                    cout<<imag<<'i'<<endl;
                }
                else cout<<0<<endl;
                return;
            }
            friend Complex operator+ (Complex c1,Complex c2);   //类内声明友元函数
            friend Complex operator- (Complex c1)
            {
                Complex c2;
                c2.real = -c1.real;
                c2.imag = -c1.imag;
                return c2;
            }
        private:
            double real;    //实部
            double imag;    //虚部
    };

    Complex operator+ (Complex c1,Complex c2)
    {
        double real;
        double imag;
        real = c1.real+c2.real;
        imag = c1.imag+c2.imag;

        return Complex(real,imag);
    }


    int main()
    {
        double a1,b1,a2,b2;
        cout<<"输入第一个数的实部和虚部：";
        cin>>a1>>b1;
        cout<<"输入第二个数的实部和虚部：";
        cin>>a2>>b2;
        Complex c1(a1,b1),c2(a2,b2),c3=c1+c2,c4=-c1;
        c1.Write();
        c2.Write();
        c3.Write();
        c4.Write();

        return 1;
    }