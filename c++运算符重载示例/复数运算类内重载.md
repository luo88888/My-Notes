    // 复数运算-类内重载

    #include<iostream>
    using namespace std;

    //复数类
    class Complex
    {
        public:
            Complex(double real,double imag)
            {
                this->real = real;
                this->imag = imag;
            }
            Complex()
            {
                real = 0;
                imag = 0;
            }
            double GetReal(){return real;}
            double GetImag(){return imag;}
            void setReal(double x){real=x;}
            void setImag(double x){imag=x;}
            void Write()    //输出复数
            {
                if(real)
                {
                    cout<<real;
                    if(imag<0||imag==1)
                    {
                        cout<<imag<<'i'<<endl;
                    }
                    else if(imag)
                    {
                        cout<<'+'<<imag<<'i'<<endl;
                    }
                    else cout<<endl;
                    return;
                }
                if(imag==1)
                {
                    cout<<'i'<<endl;
                }
                else if(imag)
                {
                    cout<<imag<<'i'<<endl;
                }
                else cout<<0<<endl;
                return;
            }
            Complex operator+ (Complex c2)  //运算符重载
            {
                Complex c3;
                c3.real = real+c2.real;
                c3.imag = imag+c2.imag;
                return c3;
            }
            Complex operator- ()
            {
                Complex c;
                c.setReal(-real);
                c.setImag(-imag);
                return c;
            }
        private:
            double real;    //实部
            double imag;    //虚部
    };



    int main()
    {
        double a1,b1,a2,b2;
        cout<<"输入第一个数的实部和虚部：";
        cin>>a1>>b1;
        cout<<"输入第二个数的实部和虚部：";
        cin>>a2>>b2;
        Complex c3,c1(a1,b1),c2(a2,b2);
        cout<<"c1=";
        c1.Write();
        cout<<"c2=";
        c2.Write();
        cout<<"c1+c2=";
        c3=c1+c2;
        c3.Write();
        cout<<"-c2=";
        c2 = -c2;
        c2.Write();
        return 1;
    }