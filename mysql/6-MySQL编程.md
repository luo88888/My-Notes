## MySQL 编程

### 1. MySQL 编程基础


### 2. 存储过程


### 3. 存储函数


### 4. 触发器

#### 4.1 认识触发器

触发器是一种特殊的存储过程，可以是表定义的一部分。触发器基于表创建，对表进行`INSERT`、`UPDATE`和`DELETE`操作时，触发器自动触发，从而维护数据的完整性或执行其他一些任务。
触发器可以分为 INSERT、UPDATE 和 DELETE 这 3 类，每一类根据执行的时机又可分为 BEFORE 和 AFTER 触发器。使用触发器的优点如下：
- 触发器自动执行，在表的数据做了任何修改，触发器都可以被激活。
- 触发器可以关联修改数据库中的相关表，比直接用 SQL 代码修改更安全、合理。
- 触发器实现的表的数据约束功能比 CHECK 更复杂。
- **注意**：MySQL 数据库只有行级触发器，必须显示指定`FOR EACH ROW`。

#### 4.2 创建触发器
在 MySQL 中，创建触发器的语法如下：
```sql
CREATE TRIGGER 触发器名 触发时间 触发事件
    ON 表名 FOR EACH ROW
    触发器语句体
```
- **注意事项**
    - 对于同一个表，不能有两个时间和事件都相同的触发器。
    - 避免在触发器中执行其他会触发相同事件的操作（如触发器 A 更新表 B，表 B 的触发器又更新表 A），可能导致死循环。

    #### 4.3 查看和修改触发器