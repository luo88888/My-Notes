## 管理表中的数据

### 1 插入记录

#### 1.1 向表中插入一条记录
```sql
INSERT INTO 表名[字段名列表] VALUES (值列表);
```
例如：
```sql
INSERT INTO student(cno, cname) VALUES (2023000, '小明');
```
- `字段名列表`是可选参数，如果省略，则依次插入所有字段，顺序和表定义的字段顺序相同。
- `字段名列表`和`值列表`的个数必须相同，且数据类型相同，`列表项`之间用逗号分隔。
- 如果插入表中部分列的数据，`字段名列表`不能省略。
- 如果该表有外键，则关联表中数据不能缺失，否则会插入失败。
- 向`CHAR`，`VARCHAR`，`DATE`等类型插入数据时，要用单引号或双引号括起来。
- **建议**：插入记录时指定`字段名列表`，不然若表结构发生改变容易引发错误。

#### 1.2 插入多条记录
```sql
INSERT [INTO] 表名[字段名列表] VALUES (值列表1),
(值列表2),
...,
(值列表n);
```

#### 1.3 REPLACE 语句
REPLACE 语法和 INSERT 基本相同，但该语句会在插入数据之前将与新记录冲突的原有记录删除，从而保证新记录的正常插入。即使主键重复，也能保证正确插入新记录。

#### 1.4 插入查询结果集
`INSERT INTO ... SELECT FROM ...`语句可以将已有表的记录快速插入指定的表。其中`SELECT FROM ...`返回一个查询结果集，`INSERT`会将这个结果集插入指定的表。
```sql
INSERT [INTO] 表1[字段名列表1]
SELECT [字段名列表2] FROM 表2 [WHERE <条件表达式>];
```
- `字段名列表1`和`字段名列表2`的列数要相同，且数据类型相同。

#### 1.5 将查询结果插入新表
```SQL
CREATE TABLE 表1
SELECT (字段列表) FROM 表2 [WHERE <条件表达式>];
```
- 该语句会创建新表，如果新表已经存在会报错。

### 2 修改记录

SQL 的`UPDATE`语句用于更新记录，语法如下：
```sql
UPDATE 表名 SET <字段名=值> [WHERE <条件表达式>];
```
- `SET <字段名=值>`可以有多个。
- `WHERE`条件子句用于限制更新的范围，如果省略，会更新所有记录。
- 更新数据时通常有条件限制，否则可能造成有效数据丢失。

示例：
```sql
UPDATE student SET sname='李华' WHERE sno=123456;
```

### 3 删除记录
#### 3.1 使用 DELETE 语句删除记录
```sql
DELETE FROM 表名 [WHERE <条件表达式>];
```
- `WHERE`是可选项，用于筛选表中要删除的记录，如果省略会删除所有记录。

例：
```sql
DELETE FROM student WHERE sno=123456;
```

#### 3.2 使用 TRUNCATE 删除所有记录
`TRUNCATE`或`TRUNCATE`用于删除指定表中所有记录，类似没有 WHERE 子句的 `DELETE`，语法如下：
```sql
TRUNCATE TABLE 表名;    -- 删除表中所有记录
```
或
```sql
TRUNCATE 表名;
```
- `TRUNCATE TABLE`语句执行速度比`SELETE`快，使用系统资源和日志资源少，并且删除数据后表的标识列会重新开始编号。